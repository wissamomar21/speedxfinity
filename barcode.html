<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>طباعة البار كود - Speed-Xfinity</title>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap');

        body {
            font-family: 'Cairo', sans-serif;
        }

        .glass-effect {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .sidebar-transition {
            transition: transform 0.3s ease-in-out;
        }

        .sidebar-closed {
            transform: translateX(100%);
        }

        .sidebar-open {
            transform: translateX(0);
        }

        .content-shift {
            transition: margin-left 0.3s ease-in-out;
        }

        .submenu {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-in-out;
        }

        .submenu.open {
            max-height: 500px;
        }

        .btn-action {
            min-width: 72px;
        }

        .barcode-visual {
            background: linear-gradient(90deg,
                    black 2px, white 2px, white 4px,
                    black 4px, black 6px, white 6px, white 8px,
                    black 8px, black 10px, white 10px, white 12px,
                    black 12px, black 14px, white 14px, white 16px,
                    black 16px, black 18px, white 18px, white 20px,
                    black 20px, black 22px, white 22px, white 24px,
                    black 24px, black 26px, white 26px, white 28px,
                    black 28px, black 30px, white 30px, white 32px,
                    black 32px, black 34px, white 34px, white 36px,
                    black 36px, black 38px, white 38px, white 40px);
        }
    </style>
</head>

<body class="min-h-screen bg-gradient-to-br from-purple-600 via-purple-700 to-purple-800">
    <!-- الشريط العلوي -->
    <div class="navbar glass-effect shadow-lg h-20 px-6 fixed top-0 left-0 right-0 z-40">
        <button id="sidebarToggle" class="btn btn-ghost btn-square mr-4 hover:bg-purple-200">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                class="inline-block h-6 w-6 stroke-current text-gray-700">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16">
                </path>
            </svg>
        </button>

        <!-- اللوجو + الاسم (يمين) -->
        <div class="flex-1 flex justify-start">
            <div class="flex items-center gap-4">
                <div
                    class="w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg">
                    <span class="text-white font-bold text-lg">SX</span>
                </div>
                <div>
                    <h1
                        class="text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">
                        Speed-Xfinity
                    </h1>
                </div>
            </div>
        </div>

        <!-- القوائم (شمال) -->
        <div class="flex-none flex items-center gap-6">
            <div class="breadcrumbs text-sm">
                <ul class="flex items-center space-x-2 rtl:space-x-reverse text-sm">
                    <li>
                        <a href="homepage.html"
                            class="text-gray-600 hover:text-gray-800 font-semibold flex items-center gap-1">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                            </svg>
                            الرئيسية
                        </a>
                    </li>
                    <li>
                        <a href="#" class="text-gray-600 hover:text-gray-800 font-semibold">الشحنات</a>
                    </li>
                    <li class="text-blue-600 font-bold">طباعه الباركود</li>
                </ul>
            </div>
        </div>
    </div>

</body>
<!-- المحتوى الرئيسي -->
<div id="mainContent" class="pt-20 content-shift min-h-screen">
    <div class="p-6 max-w-7xl mx-auto">
        <!-- عنوان الصفحة -->
        <div class="mb-6">
            <h2 class="text-2xl font-bold text-white flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
                </svg>
                طباعة أكواد البار
            </h2>
            <p class="text-purple-100 mt-2">اختر الفترة الزمنية لعرض وطباعة أكواد البار</p>
        </div>

        <!-- بطاقة اختيار التاريخ -->
        <div class="bg-white/95 backdrop-blur-md p-6 rounded-xl shadow-lg mb-6">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 items-end">
                <div>
                    <label class="label">
                        <span class="label-text font-semibold text-gray-700 flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                            </svg>
                            من تاريخ
                        </span>
                    </label>
                    <input type="date" id="startDate" class="input input-bordered w-full bg-white" />
                </div>

                <div>
                    <label class="label">
                        <span class="label-text font-semibold text-gray-700 flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                            </svg>
                            إلى تاريخ
                        </span>
                    </label>
                    <input type="date" id="endDate" class="input input-bordered w-full bg-white" />
                </div>

                <button id="searchBtn" class="btn btn-primary shadow-lg hover:shadow-xl transition-all duration-300">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                    بحث
                </button>
            </div>
        </div>

        <!-- قسم النتائج -->
        <div id="resultsSection" class="bg-white/95 backdrop-blur-md p-6 rounded-xl shadow-lg hidden">
            <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4">
                <h3 class="text-xl font-bold text-gray-800">
                    نتائج البحث (<span id="resultsCount">0</span> كود)
                </h3>
                <button id="printBtn"
                    class="btn btn-success shadow-lg hover:shadow-xl transition-all duration-300 w-full sm:w-auto">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z" />
                    </svg>
                    طباعة الأكواد
                </button>
            </div>

            <!-- شبكة الأكواد -->
            <div id="barcodesGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                <!-- سيتم إضافة الأكواد هنا ديناميكياً -->
            </div>
        </div>

        <!-- رسالة الحالة الأولية -->
        <div id="initialMessage" class="bg-white/95 backdrop-blur-md p-6 rounded-xl shadow-lg text-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-16 h-16 text-gray-400 mx-auto mb-4" fill="none"
                viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
            </svg>
            <p class="text-black text-lg">اختر فترة زمنية لعرض أكواد البار</p>
            <p class="text-gray-800 text-sm mt-2">يمكنك ترك الحقول فارغة لعرض جميع الأكواد</p>
        </div>

        <!-- رسالة التحميل -->
        <div id="loadingMessage" class="bg-white/95 backdrop-blur-md p-6 rounded-xl shadow-lg text-center hidden">
            <span class="loading loading-spinner loading-lg text-blue-600"></span>
            <p class="text-gray-500 text-lg mt-4">جاري البحث عن الأكواد...</p>
        </div>
    </div>
</div>


<!-- الشريط الجانبي -->
<div id="sidebar"
    class="fixed top-0 right-0 h-full w-80 bg-gray-800 text-white z-50 sidebar-transition sidebar-closed shadow-2xl overflow-y-auto">
    <div class="p-6">
        <!-- رأس الشريط الجانبي -->
        <div class="flex items-center gap-4 mb-8 pb-6 border-b border-gray-700">
            <div class="w-12 h-12 bg-white rounded-xl flex items-center justify-center shadow-lg">
                <span class="text-gray-800 font-bold text-lg">SX</span>
            </div>
            <div class="flex-1">
                <h2 class="text-xl font-bold">Speed-Xfinity</h2>
                <p class="text-sm text-gray-400">المدير العام</p>
            </div>
            <button id="closeSidebar" class="p-1 hover:bg-gray-700 rounded-lg transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>

        <!-- القائمة -->
        <nav class="space-y-2">
            <a href="homepage.html"
                class="flex items-center gap-4 p-4 text-gray-300 hover:text-white hover:bg-blue-600 rounded-xl transition-all duration-300">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                </svg>
                <span class="font-semibold">الرئيسية</span>
            </a>

            <!-- الإعدادات مع قائمة فرعية -->
            <div>
                <button onclick="toggleSubmenu('settings')"
                    class="flex items-center gap-4 p-4 text-gray-300 hover:text-white hover:bg-blue-600 w-full text-right rounded-xl transition-all duration-300">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                    </svg>
                    <span class="flex-1 font-semibold">الإعدادات</span>
                    <svg id="settings-arrow" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 transition-transform"
                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                </button>
                <div id="settings-submenu" class="submenu mr-8">
                    <a href="stors.html"
                        class="flex items-center gap-3 p-3 text-sm text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg mb-1 transition-all duration-300">
                        <span class="w-2 h-2 bg-current rounded-full"></span>
                        <span>المخازن</span>
                    </a>
                    <a href="employee.html"
                        class="flex items-center gap-3 p-3 text-sm text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg mb-1 transition-all duration-300">
                        <span class="w-2 h-2 bg-current rounded-full"></span>
                        <span>الموظفين</span>
                    </a>
                    <a href="companies.html"
                        class="flex items-center gap-3 p-3 text-sm text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg mb-1 transition-all duration-300">
                        <span class="w-2 h-2 bg-current rounded-full"></span>
                        <span>الشركات</span>
                    </a>
                    <a href="locat.html"
                        class="flex items-center gap-3 p-3 text-sm text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg mb-1 transition-all duration-300">
                        <span class="w-2 h-2 bg-current rounded-full"></span>
                        <span>المواقع</span>
                    </a>
                </div>
            </div>

            <!-- الشحنات مع قائمة فرعية -->
            <div>
                <button onclick="toggleSubmenu('shipments')"
                    class="flex items-center gap-4 p-4 text-gray-300 hover:text-white hover:bg-blue-600 w-full text-right rounded-xl transition-all duration-300">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
                    </svg>
                    <span class="flex-1 font-semibold">الشحنات</span>
                    <svg id="shipments-arrow" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 transition-transform"
                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                </button>
                <div id="shipments-submenu" class="submenu mr-8">
                    <a href="datarecovery.html"
                        class="flex items-center gap-3 p-3 text-sm text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg mb-1 transition-all duration-300">
                        <span class="w-2 h-2 bg-current rounded-full"></span>
                        <span>استيراد بيانات</span>
                    </a>
                    <a href="enterdelegate.html"
                        class="flex items-center gap-3 p-3 text-sm text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg mb-1 transition-all duration-300">
                        <span class="w-2 h-2 bg-current rounded-full"></span>
                        <span>دخول الى مندوب</span>
                    </a>
                    <a href="enterstore.html"
                        class="flex items-center gap-3 p-3 text-sm text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg mb-1 transition-all duration-300">
                        <span class="w-2 h-2 bg-current rounded-full"></span>
                        <span>دخول الى مخزن</span>
                    </a>
                    <a href="returns.html"
                        class="flex items-center gap-3 p-3 text-sm text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg mb-1 transition-all duration-300">
                        <span class="w-2 h-2 bg-current rounded-full"></span>
                        <span>المرتجعات</span>
                    </a>
                    <a href="datareturns.html"
                        class="flex items-center gap-3 p-3 text-sm text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg mb-1 transition-all duration-300">
                        <span class="w-2 h-2 bg-current rounded-full"></span>
                        <span>فواتير المرتجعات</span>
                    </a>
                    <a href="deliveres.html"
                        class="flex items-center gap-3 p-3 text-sm text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg mb-1 transition-all duration-300">
                        <span class="w-2 h-2 bg-current rounded-full"></span>
                        <span>التسليمات</span>
                    </a>
                    <a href="barcode.html"
                        class="flex items-center gap-3 p-3 text-sm bg-blue-600 text-white rounded-lg mb-1">
                        <span class="w-2 h-2 bg-current rounded-full"></span>
                        <span>طباعة الباركود</span>
                    </a>
                </div>
            </div>

            <!-- المالية مع قائمة فرعية -->
            <div>
                <button onclick="toggleSubmenu('finance')"
                    class="flex items-center gap-4 p-4 text-gray-300 hover:text-white hover:bg-blue-600 w-full text-right rounded-xl transition-all duration-300">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <span class="flex-1 font-semibold">المالية</span>
                    <svg id="finance-arrow" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 transition-transform"
                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                </button>
                <div id="finance-submenu" class="submenu mr-8">
                    <a href="exepenses.html"
                        class="flex items-center gap-3 p-3 text-sm text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-all duration-300">
                        <span class="w-2 h-2 bg-current rounded-full"></span>
                        <span>المصروفات</span>
                    </a>
                    <a href="serchin.html"
                        class="flex items-center gap-3 p-3 text-sm text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-all duration-300">
                        <span class="w-2 h-2 bg-current rounded-full"></span>
                        <span>بحث عن شحنه</span>
                    </a>
                </div>
            </div>

            <!-- الحساب -->
            <div>
                <button onclick="toggleSubmenu('account')"
                    class="flex items-center gap-4 p-4 text-gray-300 hover:text-white hover:bg-blue-600 w-full text-right rounded-xl transition-all duration-300">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 14c4.418 0 8 1.79 8 4v2H4v-2c0-2.21 3.582-4 8-4zm0-2a4 4 0 100-8 4 4 0 000 8z" />
                    </svg>
                    <span class="flex-1 font-semibold">الحساب</span>
                    <svg id="account-arrow" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 transition-transform"
                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                </button>
                <div id="account-submenu" class="submenu mr-8">
                    <a href="login.html"
                        class="flex items-center gap-3 p-3 text-sm text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-all duration-300">
                        <span class="w-2 h-2 bg-current rounded-full"></span>
                        <span>تسجيل خروج</span>
                    </a>
                </div>
            </div>
        </nav>
    </div>
</div>

<!-- خلفية تعتيم عند فتح الشريط الجانبي -->
<div id="overlay" class="fixed inset-0 bg-black/50 z-40 hidden"></div>
<!-- الفوتر -->
<footer class="bg-gradient-to-br from-purple-800 via-purple-900 to-purple-950 text-gray-200">
    <div class="max-w-7xl mx-auto px-6 py-6">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">

            <!-- القسم الأول -->
            <div>
                <h2 class="text-lg font-bold text-white mb-2">Speed-Xfinity</h2>
                <p class="text-sm leading-relaxed">
                    منصة لإدارة المندوبين والمواقع بسهولة وفعالية، بواجهة حديثة وألوان متناسقة.
                </p>
            </div>

            <!-- روابط سريعة -->
            <div>
                <h2 class="text-lg font-bold text-white mb-2">روابط سريعة</h2>
                <ul class="space-y-1">
                    <li><a href="homepage.html" class="hover:text-blue-400 transition">الرئيسية</a></li>
                    <li><a href="setting.html" class="hover:text-blue-400 transition">الإعدادات</a></li>
                    <li><a href="locat.html" class="hover:text-blue-400 transition">المواقع</a></li>
                </ul>
            </div>
        </div>

        <!-- خط فاصل -->
        <div class="border-t border-purple-700 mt-6 pt-4 text-center text-xs text-gray-400">
            <p class="text-xs text-gray-400 text-center">
                © 2025 <span class="text-blue-400 font-semibold">Host_Cube</span>
            </p>
            <p class="text-xs text-gray-500 text-center mt-1">Version 1.0.0</p>
        </div>
    </div>
</footer>
<script>
    let sidebarOpen = false;
    let barcodes = [];

    const sidebar = document.getElementById('sidebar');
    const mainContent = document.getElementById('mainContent');
    const overlay = document.getElementById('overlay');
    const sidebarToggle = document.getElementById('sidebarToggle');

    // بيانات عشوائية للأكواد
    const sampleBarcodes = [
        {
            id: 1,
            code: "DEL001",
            orderNumber: "ORD-2024-001",
            customerName: "محمد أحمد حسين",
            date: "2024-01-15",
            productType: "أجهزة كهربائية"
        },
        {
            id: 2,
            code: "DEL002",
            orderNumber: "ORD-2024-002",
            customerName: "فاطمة محمد عبدالله",
            date: "2024-01-16",
            productType: "مستحضرات تجميل"
        },
        {
            id: 3,
            code: "DEL003",
            orderNumber: "ORD-2024-003",
            customerName: "أمينة حسن علي",
            date: "2024-01-17",
            productType: "ملابس"
        },
        {
            id: 4,
            code: "DEL004",
            orderNumber: "ORD-2024-004",
            customerName: "حسام محمد صلاح",
            date: "2024-01-18",
            productType: "كتب"
        },
        {
            id: 5,
            code: "DEL005",
            orderNumber: "ORD-2024-005",
            customerName: "ياسر محمود حسن",
            date: "2024-01-19",
            productType: "أدوات رياضية"
        },
        {
            id: 6,
            code: "DEL006",
            orderNumber: "ORD-2024-006",
            customerName: "نورا عبدالرحمن",
            date: "2024-01-20",
            productType: "إكسسوارات"
        },
        {
            id: 7,
            code: "DEL007",
            orderNumber: "ORD-2024-007",
            customerName: "عمر محمد علي",
            date: "2024-01-21",
            productType: "أدوات منزلية"
        },
        {
            id: 8,
            code: "DEL008",
            orderNumber: "ORD-2024-008",
            customerName: "سارة أحمد محمود",
            date: "2024-01-22",
            productType: "منتجات صحية"
        }
    ];

    // فتح السايد بار
    function openSidebar() {
        sidebar.classList.remove('sidebar-closed');
        sidebar.classList.add('sidebar-open');
        mainContent.style.marginLeft = '320px';
        overlay.classList.remove('hidden');
        sidebarOpen = true;
    }

    // إغلاق السايد بار
    function closeSidebarFunc() {
        sidebar.classList.remove('sidebar-open');
        sidebar.classList.add('sidebar-closed');
        mainContent.style.marginLeft = '0';
        overlay.classList.add('hidden');
        sidebarOpen = false;
    }

    // تبديل حالة السايد بار
    function toggleSidebar() {
        if (sidebarOpen) {
            closeSidebarFunc();
        } else {
            openSidebar();
        }
    }

    // ربط أزرار التحكم
    sidebarToggle.addEventListener('click', toggleSidebar);
    closeSidebar.addEventListener('click', closeSidebarFunc);

    overlay.addEventListener('click', () => {
        if (sidebarOpen) {
            closeSidebarFunc();
        }
    });

    // عند تحميل الصفحة، تأكد أن السايد بار مغلق
    window.addEventListener('DOMContentLoaded', () => {
        closeSidebarFunc();
    });

    // دالة تبديل القائمة الفرعية
    function toggleSubmenu(menuId) {
        const submenu = document.getElementById(menuId + '-submenu');
        const arrow = document.getElementById(menuId + '-arrow');

        submenu.classList.toggle('open');
        arrow.classList.toggle('rotate-180');
    }

    // فتح قائمة الاعدادات افتراضياً
    toggleSubmenu('shipments');

    // البحث عن الأكواد
    document.getElementById('searchBtn').addEventListener('click', () => {
        const startDate = document.getElementById('startDate').value;
        const endDate = document.getElementById('endDate').value;

        // إخفاء الرسالة الأولية وإظهار التحميل
        document.getElementById('initialMessage').classList.add('hidden');
        document.getElementById('loadingMessage').classList.remove('hidden');
        document.getElementById('resultsSection').classList.add('hidden');

        // محاكاة التحميل
        setTimeout(() => {
            // فلترة الأكواد حسب التاريخ
            let filteredBarcodes = sampleBarcodes;

            if (startDate && endDate) {
                filteredBarcodes = sampleBarcodes.filter(item => {
                    const itemDate = new Date(item.date);
                    const start = new Date(startDate);
                    const end = new Date(endDate);
                    return itemDate >= start && itemDate <= end;
                });
            }

            barcodes = filteredBarcodes;
            displayBarcodes();

            // إخفاء التحميل وإظهار النتائج
            document.getElementById('loadingMessage').classList.add('hidden');
            document.getElementById('resultsSection').classList.remove('hidden');
        }, 1000);
    });

    // عرض الأكواد
    function displayBarcodes() {
        const grid = document.getElementById('barcodesGrid');
        const count = document.getElementById('resultsCount');

        count.textContent = barcodes.length;
        grid.innerHTML = '';

        barcodes.forEach(item => {
            const card = document.createElement('div');
            card.className = 'card bg-base-100 shadow-md hover:shadow-lg transition-all duration-300';
            card.innerHTML = `
                    <div class="card-body p-4">
                        <h2 class="card-title text-lg mb-3 text-blue-600">
                            ${item.code}
                        </h2>
                        
                        <!-- تمثيل بصري للباركود -->
                        <div class="w-full h-12 barcode-visual mb-3 border border-gray-300 rounded"></div>
                        
                        <div class="space-y-2 text-sm">
                            <p><span class="font-semibold text-gray-700">أوردر:</span> ${item.orderNumber}</p>
                            <p><span class="font-semibold text-gray-700">العميل:</span> ${item.customerName}</p>
                            <p><span class="font-semibold text-gray-700">النوع:</span> ${item.productType}</p>
                            <p><span class="font-semibold text-gray-700">التاريخ:</span> ${item.date}</p>
                        </div>
                    </div>
                `;
            grid.appendChild(card);
        });
    }

    // طباعة الأكواد
    document.getElementById('printBtn').addEventListener('click', () => {
        if (barcodes.length === 0) {
            alert('لا توجد أكواد للطباعة');
            return;
        }

        const startDate = document.getElementById('startDate').value;
        const endDate = document.getElementById('endDate').value;

        const printWindow = window.open('', '_blank');
        if (!printWindow) return;

        const printContent = `
                <!DOCTYPE html>
                <html lang="ar" dir="rtl">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>طباعة أكواد البار</title>
                    <style>
                        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap');
                        
                        body {
                            font-family: 'Cairo', sans-serif;
                            margin: 0;
                            padding: 20px;
                            background: white;
                            color: black;
                        }
                        
                        .header {
                            text-align: center;
                            margin-bottom: 30px;
                            border-bottom: 2px solid #333;
                            padding-bottom: 20px;
                        }
                        
                        .logo {
                            font-size: 24px;
                            font-weight: bold;
                            color: #3B82F6;
                            margin-bottom: 10px;
                        }
                        
                        .date-range {
                            font-size: 16px;
                            color: #666;
                            margin-bottom: 5px;
                        }
                        
                        .barcode-grid {
                            display: grid;
                            grid-template-columns: repeat(3, 1fr);
                            gap: 20px;
                            margin-top: 30px;
                        }
                        
                        .barcode-item {
                            border: 2px solid #333;
                            padding: 15px;
                            text-align: center;
                            background: white;
                            border-radius: 8px;
                        }
                        
                        .barcode-visual {
                            width: 100%;
                            height: 60px;
                            background: linear-gradient(90deg, 
                                black 2px, white 2px, white 4px,
                                black 4px, black 6px, white 6px, white 8px,
                                black 8px, black 10px, white 10px, white 12px,
                                black 12px, black 14px, white 14px, white 16px,
                                black 16px, black 18px, white 18px, white 20px,
                                black 20px, black 22px, white 22px, white 24px,
                                black 24px, black 26px, white 26px, white 28px,
                                black 28px, black 30px, white 30px, white 32px,
                                black 32px, black 34px, white 34px, white 36px,
                                black 36px, black 38px, white 38px, white 40px
                            );
                            margin: 10px 0;
                            border: 1px solid #ddd;
                        }
                        
                        .barcode-code {
                            font-weight: bold;
                            font-size: 14px;
                            margin-bottom: 5px;
                            font-family: 'Courier New', monospace;
                        }
                        
                        .barcode-details {
                            font-size: 12px;
                            color: #666;
                            line-height: 1.4;
                        }
                        
                        @media print {
                            body {
                                margin: 0;
                                padding: 15px;
                            }
                            
                            .barcode-grid {
                                grid-template-columns: repeat(4, 1fr);
                                gap: 15px;
                            }
                            
                            .barcode-item {
                                break-inside: avoid;
                                page-break-inside: avoid;
                            }
                        }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <div class="logo">Speed-Xfinity - إدارة المخازن</div>
                        <div class="date-range">
                            ${startDate && endDate ?
                `تقرير أكواد البار من ${startDate} إلى ${endDate}` :
                'جميع أكواد البار'
            }
                        </div>
                        <div style="font-size: 14px; color: #888;">
                            تاريخ الطباعة: ${new Date().toLocaleDateString('ar-EG')}
                        </div>
                    </div>
                    
                    <div class="barcode-grid">
                        ${barcodes.map(item => `
                            <div class="barcode-item">
                                <div class="barcode-code">${item.code}</div>
                                <div class="barcode-visual"></div>
                                <div class="barcode-details">
                                    <div><strong>أوردر:</strong> ${item.orderNumber}</div>
                                    <div><strong>العميل:</strong> ${item.customerName}</div>
                                    <div><strong>النوع:</strong> ${item.productType}</div>
                                    <div><strong>التاريخ:</strong> ${item.date}</div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </body>
                </html>
            `;

        printWindow.document.write(printContent);
        printWindow.document.close();

        setTimeout(() => {
            printWindow.print();
        }, 500);
    });

</script>

</body>

</html>